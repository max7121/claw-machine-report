ğŸ” re_readdata æ•¸æ“šä½ç½®èª¿è©¦æŒ‡å—
======================================

## ğŸ“Œ æ‚¨çš„æƒ…æ³

æ‚¨æœ‰æ•¸æ“šä½†ç„¡æ³•è®€å–ã€‚åŸå› æ˜¯ï¼š**æ‚¨çš„æ©Ÿå°çš„æŠ•å¹£å’Œå‡ºçæ•¸æ“šä½æ–¼æˆ‘å€‘ç›®å‰ä»£ç¢¼æœªè¦†è“‹çš„ä½ç½®ã€‚**

## ğŸ¯ å¿«é€Ÿè¨ºæ–·æ­¥é©Ÿ

### ç¬¬ 1 æ­¥ï¼šæ”¶é›†å¯¦éš›çš„ parm æ•¸æ“š

å¾æ‚¨æœ€å¾Œä¸€æ¬¡çš„ re_readdata å›æ‡‰ä¸­ï¼Œè¤‡è£½ parm å€¼ï¼š

```
ä¾‹å¦‚: "02020a2c01008001000010008201008000000000080067a8628210b00012800005800b0656"
```

### ç¬¬ 2 æ­¥ï¼šæ‰“é–‹æ§åˆ¶å°é€²è¡Œèª¿è©¦

1. æŒ‰ `F12` æ‰“é–‹é–‹ç™¼è€…å·¥å…·
2. é€²å…¥ã€ŒConsoleã€æ¨™ç±¤
3. åŸ·è¡Œä»¥ä¸‹ä»£ç¢¼ï¼š

```javascript
// æ‚¨çš„ parm å€¼ (å¾å›æ‡‰ä¸­è¤‡è£½)
const parm = "02020a2c01008001000010008201008000000000080067a8628210b00012800005800b0656";

// è½‰æ›ç‚ºå­—ç¯€
const bytes = [];
for (let i = 0; i < parm.length; i += 2) {
    bytes.push(parseInt(parm.substring(i, i + 2), 16));
}

console.log('å­—ç¯€é™£åˆ—:', bytes);
console.log('å‰ 20 å€‹å­—ç¯€(åé€²ä½):', bytes.slice(0, 20));
console.log('å‰ 20 å€‹å­—ç¯€(åå…­é€²ä½):', bytes.slice(0, 20).map(b => '0x' + b.toString(16).padStart(2, '0')));

// åˆ—å‡ºæ‰€æœ‰ 4 å­—ç¯€çµ„åˆ
console.log('\n=== æ‰€æœ‰å¯èƒ½çš„ 4 å­—ç¯€çµ„åˆ ===');
for (let i = 0; i < Math.min(bytes.length - 7, 20); i++) {
    const val = bytes[i] | (bytes[i+1] << 8) | (bytes[i+2] << 16) | (bytes[i+3] << 24);
    console.log(`ä½ç½® ${i}: ${val} (0x${val.toString(16)})`);
}
```

### ç¬¬ 3 æ­¥ï¼šå°æ¯”æ‚¨æœŸæœ›çš„æ•¸å­—

å‡è¨­æ‚¨çŸ¥é“æ©Ÿå°æ­¤æ™‚æ‡‰è©²çš„æŠ•å¹£æ•¸å’Œå‡ºçæ¬¡æ•¸ï¼Œä¾‹å¦‚ï¼š
- æŠ•å¹£æ•¸æ‡‰è©²æ˜¯ï¼š1234
- å‡ºçæ¬¡æ•¸æ‡‰è©²æ˜¯ï¼š567

### ç¬¬ 4 æ­¥ï¼šåœ¨æ§åˆ¶å°è¼¸å‡ºä¸­å°‹æ‰¾é€™äº›æ•¸å­—

æŸ¥çœ‹æ§åˆ¶å°è¼¸å‡ºï¼Œæ‰¾åˆ°ç¬¦åˆæ‚¨é æœŸçš„æ•¸å­—çµ„åˆã€‚

### ç¬¬ 5 æ­¥ï¼šè¨˜ä¸‹ä½ç½®

ç•¶æ‚¨çœ‹åˆ°ï¼š
```
ä½ç½® 6: 1234
ä½ç½® 10: 567
```

é€™è¡¨ç¤ºæŠ•å¹£åœ¨ä½ç½® 6ï¼Œå‡ºçåœ¨ä½ç½® 10ã€‚

## ğŸ”§ é€šå¸¸çš„æ•¸æ“šä½ç½®

æ ¹æ“šæˆ‘å€‘ç¾åœ¨æ¸¬è©¦çš„å¤šç¨®å”è­°ï¼ŒæŠ•å¹£å’Œå‡ºçé€šå¸¸ä½æ–¼ï¼š

| ä½ç½® | èªªæ˜ | å‚™è¨» |
|------|------|------|
| ä½ç½® 2-6 | å¸¸è¦‹ | ç¬¬ä¸€å€‹å‚™é¸ä½ç½® |
| ä½ç½® 4-8 | å¸¸è¦‹ | ç¬¬äºŒå€‹å‚™é¸ä½ç½® |
| ä½ç½® 10-14 | å¶çˆ¾ | ç¬¬ä¸‰å€‹å‚™é¸ä½ç½® |
| å…¶ä»–ä½ç½® | ç½•è¦‹ | éœ€è¦è‡ªå®šç¾©æ©Ÿå°å”è­° |

## ğŸ“ å‘Šè¨´æˆ‘æ‚¨çš„ä¿¡æ¯

è«‹æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼Œé€™æ¨£æˆ‘å¯ä»¥ç²¾ç¢ºèª¿æ•´ä»£ç¢¼ï¼š

**1. parm åå…­é€²ä½å­—ç¬¦ä¸²æ¨£æœ¬**
```
ä¾‹å¦‚: 02020a2c01008001000010008201008000000000080067a8628210b00012800005800b0656
```

**2. è©² parm å°æ‡‰çš„æœŸæœ›æ•¸å­—**
- æŠ•å¹£éŠæˆ²æ¬¡æ•¸æ‡‰è©²æ˜¯å¤šå°‘ï¼Ÿ(ä¾‹å¦‚: 1234)
- ç¦®å“å‡ºçæ¬¡æ•¸æ‡‰è©²æ˜¯å¤šå°‘ï¼Ÿ(ä¾‹å¦‚: 567)

**3. æ‚¨ä¹Ÿå¯ä»¥æä¾›å¤šå€‹æ¨£æœ¬**
```
æ¨£æœ¬ 1:
  parm: "..."
  æŠ•å¹£: 1234
  å‡ºç: 567

æ¨£æœ¬ 2:
  parm: "..."
  æŠ•å¹£: 5678
  å‡ºç: 901
```

## ğŸš€ è‡¨æ™‚è§£æ±ºæ–¹æ¡ˆ

å¦‚æœæ‚¨æƒ³è‡ªå·±èª¿æ•´ï¼Œå¯ä»¥ä¿®æ”¹ `parseReReadData` å‡½æ•¸ä¸­çš„æå–é‚è¼¯ï¼š

### ä¾‹å¦‚ï¼šå¦‚æœæ•¸æ“šä½æ–¼ä½ç½® 6 å’Œ 10

æ‰“é–‹ HTML æ–‡ä»¶ï¼Œæ‰¾åˆ°ä»¥ä¸‹ä»£ç¢¼ï¼š

```javascript
// æ–¹æ³• 3: å­—ç¯€ 10-14 ç‚ºæŠ•å¹£ï¼Œ14-18 ç‚ºå‡ºç
if (bytes.length >= 18) {
    const plays3 = bytes[10] | (bytes[11] << 8) | (bytes[12] << 16) | (bytes[13] << 24);
    const payouts3 = bytes[14] | (bytes[15] << 8) | (bytes[16] << 16) | (bytes[17] << 24);
```

æ”¹ç‚ºï¼š

```javascript
// æ‚¨çš„è‡ªå®šç¾©ä½ç½®: ä½ç½® 6 å’Œ 10
if (bytes.length >= 14) {
    const plays3 = bytes[6] | (bytes[7] << 8) | (bytes[8] << 16) | (bytes[9] << 24);
    const payouts3 = bytes[10] | (bytes[11] << 8) | (bytes[12] << 16) | (bytes[13] << 24);
```

## ğŸ’¡ é«˜ç´šæç¤º

### æŸ¥çœ‹è©³ç´°æ—¥èªŒ

ç³»çµ±å·²ç¶“æ”¹é€²ç‚ºæä¾›è©³ç´°çš„èª¿è©¦æ—¥èªŒã€‚ç•¶æ‚¨æ¸¬è©¦æ™‚ï¼Œåœ¨æ§åˆ¶å°æœƒçœ‹åˆ°ï¼š

```
âš™ï¸ è§£æ re_readdata å”è­°æ•¸æ“š...
ğŸ“ parm åå…­é€²ä½å­—ç¬¦ä¸²: 02020a2c01008001...
ğŸ“Š parm å­—ç¬¦ä¸²é•·åº¦: 128 å­—ç¬¦ (64 å­—ç¯€)
ğŸ” å‰ 20 å€‹å­—ç¯€å€¼: 0x2, 0x2, 0xa, 0x2c, 0x1, 0x0, 0x88, 0x1, ...
è©¦ 1: plays=11778, payouts=256
è©¦ 2: plays=256, payouts=4113
è©¦ 3: plays=32768, payouts=0
ğŸ” é–‹å§‹å‹•æ…‹æƒææ‰€æœ‰ä½ç½®...
âœ… æ–¹æ³• 4 æˆåŠŸ (ä½ç½® 6): plays=1234, payouts=567
```

é€™å‘Šè¨´æ‚¨ç¢ºåˆ‡çš„ä½ç½®ï¼

### ç†è§£ Little-Endian æ ¼å¼

æˆ‘å€‘çš„ä»£ç¢¼ä½¿ç”¨ Little-Endian æ ¼å¼è®€å– 4 å­—ç¯€æ•¸æ“šï¼š

```javascript
// ä½ç½® i çš„ 4 å­—ç¯€çµ„åˆ
const value = bytes[i] | (bytes[i+1] << 8) | (bytes[i+2] << 16) | (bytes[i+3] << 24);

// ä¾‹å¦‚å­—ç¯€ [0x2C, 0x0A, 0x00, 0x00] ä»£è¡¨:
// = 0x2C | (0x0A << 8) | (0x00 << 16) | (0x00 << 24)
// = 0x0A2C = 2604 (åé€²ä½)
```

## ğŸ¯ æª¢æŸ¥æ¸…å–®

åœ¨æä¾›ä¿¡æ¯æ™‚ï¼Œè«‹ç¢ºä¿ï¼š

- â˜ æä¾›äº†å®Œæ•´çš„ parm åå…­é€²ä½å­—ç¬¦ä¸²
- â˜ æ‚¨çŸ¥é“è©² parm å°æ‡‰çš„çœŸå¯¦æŠ•å¹£å’Œå‡ºçæ•¸å­—
- â˜ æª¢æŸ¥äº†æ§åˆ¶å°çš„èª¿è©¦æ—¥èªŒ
- â˜ å˜—è©¦äº†æ‰€æœ‰ 5 ç¨®æå–æ–¹æ³•

## ğŸ“ ä¸‹ä¸€æ­¥

1. **ç«‹å³æ¸¬è©¦**ï¼šåˆ·æ–°é é¢ï¼Œå†æ¬¡é»æ“Šã€Œæ¸¬è©¦ HTTP é€£ç·šã€
2. **æŸ¥çœ‹æ—¥èªŒ**ï¼šæŒ‰ F12 æŸ¥çœ‹æ§åˆ¶å°è¼¸å‡º
3. **æä¾›åé¥‹**ï¼šå‘Šè¨´æˆ‘æ‚¨çœ‹åˆ°çš„æ•¸å­—å’ŒæœŸæœ›çš„æ•¸å­—
4. **æˆ‘ä¾†èª¿æ•´**ï¼šæˆ‘æœƒä¿®æ”¹ä»£ç¢¼ä»¥åŒ¹é…æ‚¨çš„æ©Ÿå°å”è­°

---

âœ… ç³»çµ±å·²æº–å‚™å¥½è™•ç†å„ç¨®æ•¸æ“šæ ¼å¼ï¼

è®“æˆ‘å€‘æ‰¾å‡ºæ‚¨æ©Ÿå°çš„æ•¸æ“šä½ç½®å§ï¼ ğŸ”
